<!DOCTYPE html>
<html lang="en">
  <head>
      <!--Useful meta tags-->
      <meta name="description" content="" />
      <meta charset="utf-8">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Scott Morgan</title>
      <meta property="og:title" content="Scott Morgan"></meta>
      <meta property="og:description" content="Full Stack Developer"></meta>
      <meta property="og:image" content="../assets/img/scott-morgan.jpg"></meta>
      <meta name="author" content="Scott Morgan" />

      <!-- Favicon -->
      <link rel="shortcut icon" type="image/x-icon" href="../assets/img/scott-morgan.jpg">

      <!-- Google Fonts -->
      <link href="https://fonts.googleapis.com/css?family=Muli:300,400,600" rel="stylesheet">
      <link href="https://fonts.googleapis.com/css?family=Poppins:400,500,600,700" rel="stylesheet">

      <!-- FontAwesome Css -->
      <link rel="stylesheet" href="../assets/css/font-awesome.min.css">
      <!-- Line icon Css -->
      <link rel="stylesheet" href="../assets/css/LineIcons.css">
      <!-- Bootstrap Css -->
      <link rel="stylesheet" href="../assets/css/bootstrap.css">
      <!-- Owl Carousel Css -->
      <link rel="stylesheet" href="../assets/css/owl.carousel.min.css">
      <!-- Magnific Popup Css -->
      <link rel="stylesheet" href="../assets/css/magnific-popup.css">
      <!-- Colors Css -->
      <link rel="stylesheet" href="../assets/css/color/green-color.css" id="option-color">
      <!--  Custom Style CSS  -->
      <link rel="stylesheet" href="../assets/css/main.css">
  </head>
  <body class="flat-demo arshia-dark">

    <!--  Pre Loader  -->
    <div id="overlayer"></div>
    <span class="loader"></span>


    <!--    Header Start    -->
    <header id="header" class="header fixed-top">
        <nav id="scrollspy" class="navbar navbar-expand-lg header-nav">
            <div class="container-fluid">
                <a class="navbar-brand font-weight-bold" href="../index.html">Alexander <span class="base-color">Radonjic</span></a>
                <!--  Navbar Toggler Button Start -->
                <button class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#toggle-menu" aria-controls="toggle-menu" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="lni-menu size-md"></span>
                </button>
                <!--  Navbar Toggler Button End -->
                <div class="collapse navbar-collapse" id="toggle-menu">
                    <ul class="navbar-nav nav-pills ml-auto">
                        <li class="nav-item">
                            <a class="nav-link" href="../index.html#hero">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="../index.html#about">About</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="../index.html#skills">Skills</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="../index.html#experience">Experience</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="../index.html#portfolio">Portfolio</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" href="../index.html#blog">Blog</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="../index.html#contact">Contact</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>

    <!--    Hero Start    -->
    <section class="section hero page-hero position-relative pt-5" id="hero">
        <div class="container page-container">
            <div class="row pt-5">
                <div class="col-lg-12">
                    <div class="title-content">
                    </div>
                </div>
            </div>
            <!-- Breadcrumb -->
            <div class="row page-title pb-5">
                <div class="col-12">
                    <ul class="mb-0 breadcrumb">
                        <li class="breadcrumb-item">
                            <a href="../index.html">Home</a>
                        </li>
                        <li class="breadcrumb-item">
                            <a href="../index.html#blog">Blog</a>
                        </li>
                        <li class="breadcrumb-item">Build a Basic CRUD App with Vue.js and Node</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!--  Blog Single Start  -->
    <section id="blog-single" class="section py-5 blog-single">
        <div class="container">
            <div class="row">
                <div class="col-lg-9 blog">
                    <div class="rounded">
                        <div class="text-md-left">
                            <h1 class="mb-4 h4">Build a Basic CRUD App with Vue.js and Node</h1>
                            <div class="entry-meta mb-4">
                                <ul class="list-inline">
                                    <li class="list-inline-item">
                                        <a class="base-color" href=""><i class="fa fa-calendar"></i>Sep 12, 2021</a>
                                    </li>
                                </ul>
                            </div>
                            <div class="entry-image image-border mb-4">
                                <img src="../assets/img/news/blog-2.jpg" alt="">
                            </div>
                            <div class="entry-content box-border p-3">
                              <div class="crayons-article__main">

          <div class="crayons-article__body text-styles spec__body" data-article-id="34288" id="article-body">
            <p>I've danced the JavaScript framework shuffle for years starting with jQuery, then on to Angular. After being frustrated with Angular's complexity, I found React and thought I was in the clear. What seemed simple on the surface ended up being a frustrating mess. Then I found Vue.js.  It just felt right. It worked as expected. It was fast. The documentation was incredible. Templating was eloquent. There was a unanimous consensus around how to handle state management, conditional rendering, two-way binding, routing, and more.</p>

<p>This tutorial will take you step by step through scaffolding a Vue.js project, offloading secure authentication to <a href="https://dev.to/docs/api/resources/oidc">Okta's OpenID Connect API (OIDC)</a>, locking down protected routes, and performing CRUD operations through a backend REST API server. This tutorial uses the following technologies but doesn't require intimate knowledge to follow along:</p>

<ul>
<li>Vue.js with <a href="https://github.com/vuejs/vue-cli">vue-cli</a>, <a href="https://github.com/vuejs/vue-router">vue-router</a>, and <a href="https://github.com/okta/okta-oidc-js/tree/master/packages/okta-vue">Okta Vue SDK</a>
</li>
<li>Node with <a href="https://github.com/expressjs/express">Express</a>, <a href="https://github.com/okta/okta-auth-js">Okta JWT Verifier</a>, <a href="https://github.com/sequelize/sequelize">Sequelize</a>, and <a href="https://github.com/dchester/epilogue">Epilogue</a>
</li>
</ul>

<h2>
  <a name="about-vuejs" href="#about-vuejs">
  </a>
  About Vue.js
</h2>

<p>Vue.js is a robust but simple Javascript framework. It has one of the lowest barriers to entry of any modern framework while providing all the required features for high performance web applications.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--ocgUNpu2--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://developer.okta.com/assets/blog/vue-crud-node/vue-homepage-8a8c67ceb95ba55306607a4cd4fd0a1d1a3821ab6f9facd7024e2ed1d806c714.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--ocgUNpu2--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://developer.okta.com/assets/blog/vue-crud-node/vue-homepage-8a8c67ceb95ba55306607a4cd4fd0a1d1a3821ab6f9facd7024e2ed1d806c714.png" alt="Vue.js Homepage" loading="lazy"></a></p>

<p>This tutorial covers two primary builds, a frontend web app and backend REST API server. The frontend will be a single page application (SPA) with a homepage, login and logout, and a posts manager.</p>

<p><a href="https://dev.to/docs/api/resources/oidc">Okta's OpenID Connect (OIDC)</a> will handle our web app's authentication through the use of <a href="https://github.com/okta/okta-oidc-js/tree/master/packages/okta-vue">Okta's Vue SDK</a>. If an unauthenticated user navigates to the posts manager, the web app should attempt to authenticate the user.</p>

<p>The server will run <a href="https://www.expressjs.com/">Express</a> with <a href="http://docs.sequelizejs.com/">Sequelize</a> and <a href="https://github.com/dchester/epilogue">Epilogue</a>. At a high level, with Sequelize and Epilogue you can quickly generate dynamic REST endpoints with just a few lines of code.</p>

<p>You will use JWT-based authentication when making requests from the web app and <a href="https://github.com/okta/okta-oidc-js/tree/master/packages/jwt-verifier">Okta's JWT Verifier</a> in an Express middleware to validate the token. Your app will expose the following endpoints which all require requests to have a valid access token.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>- GET /posts
- GET /posts/:id
- POST /posts
- PUT /posts/:id
- DELETE /posts/:id
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<h2>
  <a name="create-your-vuejs-app" href="#create-your-vuejs-app">
  </a>
  Create Your Vue.js App
</h2>

<p>To get your project off the ground quickly you can leverage the scaffolding functionality from <a href="https://github.com/vuejs/vue-cli">vue-cli</a>. For this tutorial, you are going to use the <a href="https://github.com/vuejs-templates/pwa">progressive web app (PWA) template</a> that includes a handful of features including <a href="https://github.com/webpack/webpack">webpack</a>, <a href="https://vue-loader.vuejs.org/guide/hot-reload.html">hot reloading</a>, CSS extraction, and unit testing.</p>

<blockquote>
<p>If you're not familiar with the tenets of PWA, check out our <a href="https://dev.to/blog/2017/07/20/the-ultimate-guide-to-progressive-web-applications">ultimate guide to progressive web applications</a>.</p>
</blockquote>

<p>To install <code>vue-cli</code> run:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>npm install -g vue-cli@2.9.3
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>Next, you need to initialize your project.  When you run the <code>vue init</code> command just accept all the default values.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>vue init pwa my-vue-app
cd ./my-vue-app
npm install
npm run dev
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>Point your favorite browser to <code>http://localhost:8080</code> and you should see the fruits of your labor:</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--XaU6Z5I9--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://developer.okta.com/assets/blog/vue-crud-node/welcome-to-vue-pwa-eea589caa41609323c8793291ebd75f19e9e9139b9165a077005118577def59e.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--XaU6Z5I9--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://developer.okta.com/assets/blog/vue-crud-node/welcome-to-vue-pwa-eea589caa41609323c8793291ebd75f19e9e9139b9165a077005118577def59e.png" alt="Welcome to Your Vue.js PWA" loading="lazy"></a></p>

<p><strong>Extra Credit</strong>: Check out the other <a href="https://github.com/vuejs-templates">templates</a> available for <code>vue-cli</code>.</p>

<h2>
  <a name="install-bootstrap" href="#install-bootstrap">
  </a>
  Install Bootstrap
</h2>

<p>Let's install <a href="https://github.com/bootstrap-vue/bootstrap-vue">bootstrap-vue</a> so you can take advantage of the various premade <a href="https://getbootstrap.com/docs/4.0/components/">components</a> (plus you can keep the focus on functionality and not on custom CSS):<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>npm i bootstrap-vue@2.0.0-rc.7 bootstrap@4.1.0
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>To complete the installation, modify <code>./src/main.js</code> to include <a href="https://github.com/bootstrap-vue/bootstrap-vue">bootstrap-vue</a> and import the required CSS files. Your <code>./src/main.js</code> file should look like this:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="c1">// The Vue build version to load with the `import` command</span>
<span class="c1">// (runtime-only or standalone) has been set in webpack.base.conf with an alias.</span>
<span class="k">import</span> <span class="nx">Vue</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">vue</span><span class="dl">'</span>
<span class="k">import</span> <span class="nx">App</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./App</span><span class="dl">'</span>
<span class="k">import</span> <span class="nx">router</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./router</span><span class="dl">'</span>
<span class="k">import</span> <span class="nx">BootstrapVue</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">bootstrap-vue</span><span class="dl">'</span>
<span class="k">import</span> <span class="dl">'</span><span class="s1">bootstrap/dist/css/bootstrap.css</span><span class="dl">'</span>
<span class="k">import</span> <span class="dl">'</span><span class="s1">bootstrap-vue/dist/bootstrap-vue.css</span><span class="dl">'</span>

<span class="nx">Vue</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">BootstrapVue</span><span class="p">)</span>
<span class="nx">Vue</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">productionTip</span> <span class="o">=</span> <span class="kc">false</span>

<span class="cm">/* eslint-disable no-new */</span>
<span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
  <span class="na">el</span><span class="p">:</span> <span class="dl">'</span><span class="s1">#app</span><span class="dl">'</span><span class="p">,</span>
  <span class="nx">router</span><span class="p">,</span>
  <span class="na">template</span><span class="p">:</span> <span class="dl">'</span><span class="s1">&lt;App/&gt;</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">components</span><span class="p">:</span> <span class="p">{</span> <span class="nx">App</span> <span class="p">}</span>
<span class="p">})</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<h2>
  <a name="add-authentication-with-okta" href="#add-authentication-with-okta">
  </a>
  Add Authentication with Okta
</h2>

<p>Dealing with authentication in a web app is the bane of every developer's existence. That's where Okta comes in to secure your web applications with minimal code. To get started, you will need to create an OIDC application in Okta. <a href="https://developer.okta.com/signup/">Sign up for a forever-free developer account</a> (or log in if you already have one).</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--ADQ4ehD---/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://developer.okta.com/assets/blog/vue-crud-node/okta-developer-sign-up-8076b22d5d523a70c1c8a0cef34993103f3a2d01d821d2cc31a1f3ba9798cb08.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--ADQ4ehD---/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://developer.okta.com/assets/blog/vue-crud-node/okta-developer-sign-up-8076b22d5d523a70c1c8a0cef34993103f3a2d01d821d2cc31a1f3ba9798cb08.png" alt="Okta Developer Sign Up" loading="lazy"></a></p>

<p>Once logged in, create a new application by clicking "Add Application".</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--sGU3_mMu--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://developer.okta.com/assets/blog/vue-crud-node/add-application-024fdfa427033e2e345b48167d8fdef2592f8dcaa464be89487e257a629d39ad.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--sGU3_mMu--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://developer.okta.com/assets/blog/vue-crud-node/add-application-024fdfa427033e2e345b48167d8fdef2592f8dcaa464be89487e257a629d39ad.png" alt="Add Application" loading="lazy"></a></p>

<p>Select the "Single-Page App" platform option.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--NMEq-uua--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://developer.okta.com/assets/blog/vue-crud-node/new-application-options-96b1b0faa43717d47faaf99696fe2155e793c5f482b7cbae21747bdf3fd72ba4.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--NMEq-uua--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://developer.okta.com/assets/blog/vue-crud-node/new-application-options-96b1b0faa43717d47faaf99696fe2155e793c5f482b7cbae21747bdf3fd72ba4.png" alt="New Application Options" loading="lazy"></a></p>

<p>The default application settings should be the same as those pictured.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--AkgOAfTp--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://developer.okta.com/assets/blog/vue-crud-node/okta-application-settings-99892ff83b5e572a4c2b64d3d9b2edde2266d7f7434c18b8e60f6f005d7718e0.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--AkgOAfTp--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://developer.okta.com/assets/blog/vue-crud-node/okta-application-settings-99892ff83b5e572a4c2b64d3d9b2edde2266d7f7434c18b8e60f6f005d7718e0.png" alt="Okta Application Settings" loading="lazy"></a></p>

<p>To install the Okta Vue SDK, run the following command:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>npm i @okta/okta-vue@1.0.0
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>Open <code>./src/router/index.js</code> and replace the entire file with the following code.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="k">import</span> <span class="nx">Vue</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">vue</span><span class="dl">'</span>
<span class="k">import</span> <span class="nx">Router</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">vue-router</span><span class="dl">'</span>
<span class="k">import</span> <span class="nx">Hello</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@/components/Hello</span><span class="dl">'</span>
<span class="k">import</span> <span class="nx">PostsManager</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@/components/PostsManager</span><span class="dl">'</span>
<span class="k">import</span> <span class="nx">Auth</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@okta/okta-vue</span><span class="dl">'</span>

<span class="nx">Vue</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">Auth</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">issuer</span><span class="p">:</span> <span class="dl">'</span><span class="s1">https://{yourOktaDomain}.com/oauth2/default</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">client_id</span><span class="p">:</span> <span class="dl">'</span><span class="s1">{yourClientId}</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">redirect_uri</span><span class="p">:</span> <span class="dl">'</span><span class="s1">http://localhost:8080/implicit/callback</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">scope</span><span class="p">:</span> <span class="dl">'</span><span class="s1">openid profile email</span><span class="dl">'</span>
<span class="p">})</span>

<span class="nx">Vue</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">Router</span><span class="p">)</span>

<span class="kd">let</span> <span class="nx">router</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Router</span><span class="p">({</span>
  <span class="na">mode</span><span class="p">:</span> <span class="dl">'</span><span class="s1">history</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">routes</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="na">path</span><span class="p">:</span> <span class="dl">'</span><span class="s1">/</span><span class="dl">'</span><span class="p">,</span>
      <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Hello</span><span class="dl">'</span><span class="p">,</span>
      <span class="na">component</span><span class="p">:</span> <span class="nx">Hello</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="na">path</span><span class="p">:</span> <span class="dl">'</span><span class="s1">/implicit/callback</span><span class="dl">'</span><span class="p">,</span>
      <span class="na">component</span><span class="p">:</span> <span class="nx">Auth</span><span class="p">.</span><span class="nx">handleCallback</span><span class="p">()</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="na">path</span><span class="p">:</span> <span class="dl">'</span><span class="s1">/posts-manager</span><span class="dl">'</span><span class="p">,</span>
      <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">PostsManager</span><span class="dl">'</span><span class="p">,</span>
      <span class="na">component</span><span class="p">:</span> <span class="nx">PostsManager</span><span class="p">,</span>
      <span class="na">meta</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">requiresAuth</span><span class="p">:</span> <span class="kc">true</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">})</span>

<span class="nx">router</span><span class="p">.</span><span class="nx">beforeEach</span><span class="p">(</span><span class="nx">Vue</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">$auth</span><span class="p">.</span><span class="nx">authRedirectGuard</span><span class="p">())</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">router</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>You'll need to replace <code>{yourOktaDomain}</code> and <code>{yourClientId}</code> which can be found on your application overview page in the Okta Developer Console. This will inject an <code>authClient</code> object into your Vue instance which can be accessed by calling <code>this.$auth</code> anywhere inside your Vue instance.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="nx">Vue</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">Auth</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">issuer</span><span class="p">:</span> <span class="dl">'</span><span class="s1">https://{yourOktaDomain}.com/oauth2/default</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">client_id</span><span class="p">:</span> <span class="dl">'</span><span class="s1">{yourClientId}</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">redirect_uri</span><span class="p">:</span> <span class="dl">'</span><span class="s1">http://localhost:8080/implicit/callback</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">scope</span><span class="p">:</span> <span class="dl">'</span><span class="s1">openid profile email</span><span class="dl">'</span>
<span class="p">})</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>The final step of Okta's authentication flow is redirecting the user back to your app with the token values in the URL. The <code>Auth.handleCallback()</code> component included in the SDK handles the redirect and persists the tokens on the browser.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="p">{</span>
  <span class="nl">path</span><span class="p">:</span> <span class="dl">'</span><span class="s1">/implicit/callback</span><span class="dl">'</span><span class="p">,</span>
  <span class="nx">component</span><span class="p">:</span> <span class="nx">Auth</span><span class="p">.</span><span class="nx">handleCallback</span><span class="p">()</span>
<span class="p">}</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>You also need to lock down protected routes from being access by unauthenticated users. This is accomplished by implementing a <a href="https://router.vuejs.org/en/advanced/navigation-guards">navigation guard</a>. As the name suggests, <a href="https://router.vuejs.org/en/advanced/navigation-guards">navigation guards</a> are primarily used to guard navigations either by redirecting or canceling.</p>

<p>The SDK comes with the method <code>auth.authRedirectGuard()</code> that checks matched routes' metadata for the key <code>requiresAuth</code> and redirects the user to the authentication flow if they are not authenticated.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="nx">router</span><span class="p">.</span><span class="nx">beforeEach</span><span class="p">(</span><span class="nx">Vue</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">$auth</span><span class="p">.</span><span class="nx">authRedirectGuard</span><span class="p">())</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>With this navigation guard installed, any route that has the following metadata will be protected.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="nx">meta</span><span class="p">:</span> <span class="p">{</span>
  <span class="nl">requiresAuth</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">}</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<h2>
  <a name="customize-your-app-layout-in-vue" href="#customize-your-app-layout-in-vue">
  </a>
  Customize Your App Layout in Vue
</h2>

<p>The web app's layout is located in a component <code>./src/App.vue</code>.  You can use the <a href="https://router.vuejs.org/en/api/router-view">router-view</a> component to render the matched component for the given path.</p>

<p>For the main menu, you'll want to change the visibility of certain menu items based on the status of the <code>activeUser</code>:</p>

<ul>
<li>Not Authenticated: Show only <em>Login</em> </li>
<li>Authenticated: Show only <em>Logout</em>
</li>
</ul>

<p>You can toggle the visibility of these menu items using the <code>v-if</code> directive in Vue.js that checks the existence of <code>activeUser</code> on the component.  When the component is loaded (which calls <code>created()</code>) or when a route changes we want to refresh the <code>activeUser</code>.</p>

<p>Open <code>./src/App.vue</code> and copy/paste the following code.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight html"><code><span class="nt">&lt;template&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"app"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;b-navbar</span> <span class="na">toggleable=</span><span class="s">"md"</span> <span class="na">type=</span><span class="s">"dark"</span> <span class="na">variant=</span><span class="s">"dark"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;b-navbar-toggle</span> <span class="na">target=</span><span class="s">"nav_collapse"</span><span class="nt">&gt;&lt;/b-navbar-toggle&gt;</span>
      <span class="nt">&lt;b-navbar-brand</span> <span class="na">to=</span><span class="s">"/"</span><span class="nt">&gt;</span>My Vue App<span class="nt">&lt;/b-navbar-brand&gt;</span>
      <span class="nt">&lt;b-collapse</span> <span class="na">is-nav</span> <span class="na">id=</span><span class="s">"nav_collapse"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;b-navbar-nav&gt;</span>
          <span class="nt">&lt;b-nav-item</span> <span class="na">to=</span><span class="s">"/"</span><span class="nt">&gt;</span>Home<span class="nt">&lt;/b-nav-item&gt;</span>
          <span class="nt">&lt;b-nav-item</span> <span class="na">to=</span><span class="s">"/posts-manager"</span><span class="nt">&gt;</span>Posts Manager<span class="nt">&lt;/b-nav-item&gt;</span>
          <span class="nt">&lt;b-nav-item</span> <span class="na">href=</span><span class="s">"#"</span> <span class="err">@</span><span class="na">click.prevent=</span><span class="s">"login"</span> <span class="na">v-if=</span><span class="s">"!activeUser"</span><span class="nt">&gt;</span>Login<span class="nt">&lt;/b-nav-item&gt;</span>
          <span class="nt">&lt;b-nav-item</span> <span class="na">href=</span><span class="s">"#"</span> <span class="err">@</span><span class="na">click.prevent=</span><span class="s">"logout"</span> <span class="na">v-else</span><span class="nt">&gt;</span>Logout<span class="nt">&lt;/b-nav-item&gt;</span>
        <span class="nt">&lt;/b-navbar-nav&gt;</span>
      <span class="nt">&lt;/b-collapse&gt;</span>
    <span class="nt">&lt;/b-navbar&gt;</span>
    <span class="c">&lt;!-- routes will be rendered here --&gt;</span>
    <span class="nt">&lt;router-view</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/template&gt;</span>

<span class="nt">&lt;script&gt;</span>

<span class="k">export</span> <span class="k">default</span> <span class="p">{</span>
  <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">app</span><span class="dl">'</span><span class="p">,</span>
  <span class="nx">data</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span>
      <span class="na">activeUser</span><span class="p">:</span> <span class="kc">null</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="k">async</span> <span class="nx">created</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">await</span> <span class="k">this</span><span class="p">.</span><span class="nx">refreshActiveUser</span><span class="p">()</span>
  <span class="p">},</span>
  <span class="na">watch</span><span class="p">:</span> <span class="p">{</span>
    <span class="c1">// everytime a route is changed refresh the activeUser</span>
    <span class="dl">'</span><span class="s1">$route</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">refreshActiveUser</span><span class="dl">'</span>
  <span class="p">},</span>
  <span class="na">methods</span><span class="p">:</span> <span class="p">{</span>
    <span class="nx">login</span> <span class="p">()</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">$auth</span><span class="p">.</span><span class="nx">loginRedirect</span><span class="p">()</span>
    <span class="p">},</span>
    <span class="k">async</span> <span class="nx">refreshActiveUser</span> <span class="p">()</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">activeUser</span> <span class="o">=</span> <span class="k">await</span> <span class="k">this</span><span class="p">.</span><span class="nx">$auth</span><span class="p">.</span><span class="nx">getUser</span><span class="p">()</span>
    <span class="p">},</span>
    <span class="k">async</span> <span class="nx">logout</span> <span class="p">()</span> <span class="p">{</span>
      <span class="k">await</span> <span class="k">this</span><span class="p">.</span><span class="nx">$auth</span><span class="p">.</span><span class="nx">logout</span><span class="p">()</span>
      <span class="k">await</span> <span class="k">this</span><span class="p">.</span><span class="nx">refreshActiveUser</span><span class="p">()</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">$router</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="dl">'</span><span class="s1">/</span><span class="dl">'</span><span class="p">)</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>Every login must have a logout. The following snippet will logout your user, refresh the active user (which is now null), and then redirect the user to the homepage. This method is called when a user clicks on the logout link in the nav.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="k">async</span> <span class="nx">logout</span> <span class="p">()</span> <span class="p">{</span>
  <span class="k">await</span> <span class="k">this</span><span class="p">.</span><span class="nx">$auth</span><span class="p">.</span><span class="nx">logout</span><span class="p">()</span>
  <span class="k">await</span> <span class="k">this</span><span class="p">.</span><span class="nx">refreshActiveUser</span><span class="p">()</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">$router</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="dl">'</span><span class="s1">/</span><span class="dl">'</span><span class="p">)</span>
<span class="p">}</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p><a href="https://vuejs.org/v2/guide/components">Components</a> are the building blocks within Vue.js.  Each of your pages will be defined in the app as a component. Since the vue-cli webpack template utilizes <a href="https://github.com/vuejs/vue-loader">vue-loader</a>, your component source files have a convention that separates template, script, and style (<a href="https://github.com/vuejs/vue-loader">see here</a>).</p>

<p>Now that you've added vue-bootstrap, modify <code>./src/components/Hello.vue</code> to remove the boilerplate links vue-cli generates.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight html"><code><span class="nt">&lt;template&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"hero"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div&gt;</span>
      <span class="nt">&lt;h1</span> <span class="na">class=</span><span class="s">"display-3"</span><span class="nt">&gt;</span>Hello World<span class="nt">&lt;/h1&gt;</span>
      <span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">"lead"</span><span class="nt">&gt;</span>This is the homepage of your vue app<span class="nt">&lt;/p&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/template&gt;</span>

<span class="nt">&lt;style&gt;</span>
  <span class="nc">.hero</span> <span class="p">{</span>
    <span class="nl">height</span><span class="p">:</span> <span class="m">90vh</span><span class="p">;</span>
    <span class="nl">display</span><span class="p">:</span> <span class="n">flex</span><span class="p">;</span>
    <span class="nl">align-items</span><span class="p">:</span> <span class="nb">center</span><span class="p">;</span>
    <span class="nl">justify-content</span><span class="p">:</span> <span class="nb">center</span><span class="p">;</span>
    <span class="nl">text-align</span><span class="p">:</span> <span class="nb">center</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="nc">.hero</span> <span class="nc">.lead</span> <span class="p">{</span>
    <span class="nl">font-weight</span><span class="p">:</span> <span class="m">200</span><span class="p">;</span>
    <span class="nl">font-size</span><span class="p">:</span> <span class="m">1.5rem</span><span class="p">;</span>
  <span class="p">}</span>
<span class="nt">&lt;/style&gt;</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>At this point you can stub out the Post Manager page to test your authentication flow. Once you confirm authentication works, you'll start to build out the API calls and components required to perform CRUD operations on your Posts model. </p>

<p>Create a new file <code>./src/components/PostsManager.vue</code> and paste the following code:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight html"><code><span class="nt">&lt;template&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"container-fluid mt-4"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;h1</span> <span class="na">class=</span><span class="s">"h1"</span><span class="nt">&gt;</span>Posts Manager<span class="nt">&lt;/h1&gt;</span>
    <span class="nt">&lt;p&gt;</span>Only authenticated users should see this page<span class="nt">&lt;/p&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/template&gt;</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<h2>
  <a name="take-your-vuejs-frontend-and-auth-flows-for-a-test-drive" href="#take-your-vuejs-frontend-and-auth-flows-for-a-test-drive">
  </a>
  Take Your Vue.js Frontend and Auth Flows for a Test Drive
</h2>

<p>In your terminal run <code>npm run dev</code> (if it's not already running). Navigate to <code>http://localhost:8080</code> and you should see the new homepage.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--Whh7uMsN--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://developer.okta.com/assets/blog/vue-crud-node/new-homepage-7bbf1b612f5d02bff93d2a233345bfa0d621a5b1ec1cde5d8a40dd8b7998ff50.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--Whh7uMsN--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://developer.okta.com/assets/blog/vue-crud-node/new-homepage-7bbf1b612f5d02bff93d2a233345bfa0d621a5b1ec1cde5d8a40dd8b7998ff50.png" alt="Hello World" loading="lazy"></a></p>

<p>If you click <strong>Posts Manager</strong> or <strong>Login</strong> you should be directed to Okta's flow.  Enter your Okta dev account credentials.</p>

<p><strong>NOTE:</strong> If you are logged in to your Okta Developer Account you will be redirected automatically back to the app. You can test this by using incognito or private browsing mode.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--j00Wmy4G--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://developer.okta.com/assets/blog/vue-crud-node/okta-sign-in-84e74fdcd14ea14cfef67942450ef280e251773e6621e8c4d8fbeb585f5ab068.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--j00Wmy4G--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://developer.okta.com/assets/blog/vue-crud-node/okta-sign-in-84e74fdcd14ea14cfef67942450ef280e251773e6621e8c4d8fbeb585f5ab068.png" alt="Okta Sign-In" loading="lazy"></a></p>

<p>If successful, you should return to the homepage logged in.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--n2RNIOAb--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://developer.okta.com/assets/blog/vue-crud-node/homepage-authenticated-12cf39e1a94d81657ebf0ba6d02b42c61f59d81ed911b13a00968742397ff7d5.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--n2RNIOAb--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://developer.okta.com/assets/blog/vue-crud-node/homepage-authenticated-12cf39e1a94d81657ebf0ba6d02b42c61f59d81ed911b13a00968742397ff7d5.png" alt="Homepage after logging in" loading="lazy"></a></p>

<p>Clicking on <strong>Posts Manager</strong> link should render the protected component.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--yyfE2x6l--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://developer.okta.com/assets/blog/vue-crud-node/posts-manager-e371e794a03cd91955e0bc4661a5f6a0649f4532ebde18531fb23997dd174849.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--yyfE2x6l--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://developer.okta.com/assets/blog/vue-crud-node/posts-manager-e371e794a03cd91955e0bc4661a5f6a0649f4532ebde18531fb23997dd174849.png" alt="Posts Manager" loading="lazy"></a></p>

<h2>
  <a name="add-a-backend-rest-api-server" href="#add-a-backend-rest-api-server">
  </a>
  Add a Backend REST API Server
</h2>

<p>Now that users can securely authenticate, you can build the REST API server to perform CRUD operations on a post model. Add the following dependencies to your project:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>npm i express@4.16.3 cors@2.8.4 @okta/jwt-verifier@0.0.11 sequelize@4.37.6 sqlite3@4.0.0 epilogue@0.7.1 axios@0.18.0
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>Then, create the file  <code>./src/server.js</code> and paste the following code.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="kd">const</span> <span class="nx">express</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">express</span><span class="dl">'</span><span class="p">)</span>
<span class="kd">const</span> <span class="nx">cors</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">cors</span><span class="dl">'</span><span class="p">)</span>
<span class="kd">const</span> <span class="nx">bodyParser</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">body-parser</span><span class="dl">'</span><span class="p">)</span>
<span class="kd">const</span> <span class="nx">Sequelize</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">sequelize</span><span class="dl">'</span><span class="p">)</span>
<span class="kd">const</span> <span class="nx">epilogue</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">epilogue</span><span class="dl">'</span><span class="p">)</span>
<span class="kd">const</span> <span class="nx">OktaJwtVerifier</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">@okta/jwt-verifier</span><span class="dl">'</span><span class="p">)</span>

<span class="kd">const</span> <span class="nx">oktaJwtVerifier</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">OktaJwtVerifier</span><span class="p">({</span>
  <span class="na">clientId</span><span class="p">:</span> <span class="dl">'</span><span class="s1">{yourClientId}</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">issuer</span><span class="p">:</span> <span class="dl">'</span><span class="s1">https://{yourOktaDomain}.com/oauth2/default</span><span class="dl">'</span>
<span class="p">})</span>

<span class="kd">let</span> <span class="nx">app</span> <span class="o">=</span> <span class="nx">express</span><span class="p">()</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">cors</span><span class="p">())</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">bodyParser</span><span class="p">.</span><span class="nx">json</span><span class="p">())</span>

<span class="c1">// verify JWT token middleware</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">((</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">,</span> <span class="nx">next</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// require every request to have an authorization header</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">req</span><span class="p">.</span><span class="nx">headers</span><span class="p">.</span><span class="nx">authorization</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">next</span><span class="p">(</span><span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="dl">'</span><span class="s1">Authorization header is required</span><span class="dl">'</span><span class="p">))</span>
  <span class="p">}</span>
  <span class="kd">let</span> <span class="nx">parts</span> <span class="o">=</span> <span class="nx">req</span><span class="p">.</span><span class="nx">headers</span><span class="p">.</span><span class="nx">authorization</span><span class="p">.</span><span class="nx">trim</span><span class="p">().</span><span class="nx">split</span><span class="p">(</span><span class="dl">'</span><span class="s1"> </span><span class="dl">'</span><span class="p">)</span>
  <span class="kd">let</span> <span class="nx">accessToken</span> <span class="o">=</span> <span class="nx">parts</span><span class="p">.</span><span class="nx">pop</span><span class="p">()</span>
  <span class="nx">oktaJwtVerifier</span><span class="p">.</span><span class="nx">verifyAccessToken</span><span class="p">(</span><span class="nx">accessToken</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">jwt</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">req</span><span class="p">.</span><span class="nx">user</span> <span class="o">=</span> <span class="p">{</span>
        <span class="na">uid</span><span class="p">:</span> <span class="nx">jwt</span><span class="p">.</span><span class="nx">claims</span><span class="p">.</span><span class="nx">uid</span><span class="p">,</span>
        <span class="na">email</span><span class="p">:</span> <span class="nx">jwt</span><span class="p">.</span><span class="nx">claims</span><span class="p">.</span><span class="nx">sub</span>
      <span class="p">}</span>
      <span class="nx">next</span><span class="p">()</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">next</span><span class="p">)</span> <span class="c1">// jwt did not verify!</span>
<span class="p">})</span>

<span class="c1">// For ease of this tutorial, we are going to use SQLite to limit dependencies</span>
<span class="kd">let</span> <span class="nx">database</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Sequelize</span><span class="p">({</span>
  <span class="na">dialect</span><span class="p">:</span> <span class="dl">'</span><span class="s1">sqlite</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">storage</span><span class="p">:</span> <span class="dl">'</span><span class="s1">./test.sqlite</span><span class="dl">'</span>
<span class="p">})</span>

<span class="c1">// Define our Post model</span>
<span class="c1">// id, createdAt, and updatedAt are added by sequelize automatically</span>
<span class="kd">let</span> <span class="nx">Post</span> <span class="o">=</span> <span class="nx">database</span><span class="p">.</span><span class="nx">define</span><span class="p">(</span><span class="dl">'</span><span class="s1">posts</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">title</span><span class="p">:</span> <span class="nx">Sequelize</span><span class="p">.</span><span class="nx">STRING</span><span class="p">,</span>
  <span class="na">body</span><span class="p">:</span> <span class="nx">Sequelize</span><span class="p">.</span><span class="nx">TEXT</span>
<span class="p">})</span>

<span class="c1">// Initialize epilogue</span>
<span class="nx">epilogue</span><span class="p">.</span><span class="nx">initialize</span><span class="p">({</span>
  <span class="na">app</span><span class="p">:</span> <span class="nx">app</span><span class="p">,</span>
  <span class="na">sequelize</span><span class="p">:</span> <span class="nx">database</span>
<span class="p">})</span>

<span class="c1">// Create the dynamic REST resource for our Post model</span>
<span class="kd">let</span> <span class="nx">userResource</span> <span class="o">=</span> <span class="nx">epilogue</span><span class="p">.</span><span class="nx">resource</span><span class="p">({</span>
  <span class="na">model</span><span class="p">:</span> <span class="nx">Post</span><span class="p">,</span>
  <span class="na">endpoints</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">/posts</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">/posts/:id</span><span class="dl">'</span><span class="p">]</span>
<span class="p">})</span>

<span class="c1">// Resets the database and launches the express app on :8081</span>
<span class="nx">database</span>
  <span class="p">.</span><span class="nx">sync</span><span class="p">({</span> <span class="na">force</span><span class="p">:</span> <span class="kc">true</span> <span class="p">})</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">app</span><span class="p">.</span><span class="nx">listen</span><span class="p">(</span><span class="mi">8081</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">listening to port localhost:8081</span><span class="dl">'</span><span class="p">)</span>
    <span class="p">})</span>
  <span class="p">})</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>Make sure to replace the variables <code>{yourOktaDomain}</code> and <code>{clientId}</code> in the above code with values from your OIDC app in Okta.</p>

<h3>
  <a name="add-sequelize" href="#add-sequelize">
  </a>
  Add Sequelize
</h3>

<p><a href="https://github.com/sequelize/sequelize">Sequelize</a> is a promise-based ORM for Node.js. It supports the dialects PostgreSQL, MySQL, SQLite, and MSSQL and features solid transaction support, relations, read replication, and more.</p>

<p>For ease of this tutorial, you're going to use SQLite to limit external dependencies. The following code initializes a Sequelize instance using SQLite as your driver.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="kd">let</span> <span class="nx">database</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Sequelize</span><span class="p">({</span>
  <span class="na">dialect</span><span class="p">:</span> <span class="dl">'</span><span class="s1">sqlite</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">storage</span><span class="p">:</span> <span class="dl">'</span><span class="s1">./test.sqlite</span><span class="dl">'</span>
<span class="p">})</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>Each post has a <code>title</code> and <code>body</code>. (The fields <code>createdAt</code>, and <code>updatedAt</code> are added by Sequelize automatically). With Sequelize, you define models by calling <code>define()</code> on your instance.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>let Post = database.define('posts', {
  title: Sequelize.STRING,
  body: Sequelize.TEXT
})
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<h2>
  <a name="add-epilogue" href="#add-epilogue">
  </a>
  Add Epilogue
</h2>

<p><a href="https://github.com/dchester/epilogue">Epilogue</a> creates flexible REST endpoints from Sequelize models within an Express app. If you ever coded REST endpoints you know how much repetition there is. D.R.Y. FTW!<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="c1">// Initialize epilogue</span>
<span class="nx">epilogue</span><span class="p">.</span><span class="nx">initialize</span><span class="p">({</span>
  <span class="na">app</span><span class="p">:</span> <span class="nx">app</span><span class="p">,</span>
  <span class="na">sequelize</span><span class="p">:</span> <span class="nx">database</span>
<span class="p">})</span>

<span class="c1">// Create the dynamic REST resource for our Post model</span>
<span class="kd">let</span> <span class="nx">userResource</span> <span class="o">=</span> <span class="nx">epilogue</span><span class="p">.</span><span class="nx">resource</span><span class="p">({</span>
  <span class="na">model</span><span class="p">:</span> <span class="nx">Post</span><span class="p">,</span>
  <span class="na">endpoints</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">/posts</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">/posts/:id</span><span class="dl">'</span><span class="p">]</span>
<span class="p">})</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<h3>
  <a name="verify-your-jwt" href="#verify-your-jwt">
  </a>
  Verify Your JWT
</h3>

<p>This is the most crucial component of your REST API server. Without this middleware any user can perform CRUD operations on our database. If no authorization header is present, or the access token is invalid, the API call will fail and return an error.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="c1">// verify JWT token middleware</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">((</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">,</span> <span class="nx">next</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// require every request to have an authorization header</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">req</span><span class="p">.</span><span class="nx">headers</span><span class="p">.</span><span class="nx">authorization</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">next</span><span class="p">(</span><span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="dl">'</span><span class="s1">Authorization header is required</span><span class="dl">'</span><span class="p">))</span>
  <span class="p">}</span>
  <span class="kd">let</span> <span class="nx">parts</span> <span class="o">=</span> <span class="nx">req</span><span class="p">.</span><span class="nx">headers</span><span class="p">.</span><span class="nx">authorization</span><span class="p">.</span><span class="nx">trim</span><span class="p">().</span><span class="nx">split</span><span class="p">(</span><span class="dl">'</span><span class="s1"> </span><span class="dl">'</span><span class="p">)</span>
  <span class="kd">let</span> <span class="nx">accessToken</span> <span class="o">=</span> <span class="nx">parts</span><span class="p">.</span><span class="nx">pop</span><span class="p">()</span>
  <span class="nx">oktaJwtVerifier</span><span class="p">.</span><span class="nx">verifyAccessToken</span><span class="p">(</span><span class="nx">accessToken</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">jwt</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">req</span><span class="p">.</span><span class="nx">user</span> <span class="o">=</span> <span class="p">{</span>
        <span class="na">uid</span><span class="p">:</span> <span class="nx">jwt</span><span class="p">.</span><span class="nx">claims</span><span class="p">.</span><span class="nx">uid</span><span class="p">,</span>
        <span class="na">email</span><span class="p">:</span> <span class="nx">jwt</span><span class="p">.</span><span class="nx">claims</span><span class="p">.</span><span class="nx">sub</span>
      <span class="p">}</span>
      <span class="nx">next</span><span class="p">()</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">next</span><span class="p">)</span> <span class="c1">// jwt did not verify!</span>
<span class="p">})</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<h3>
  <a name="run-the-server" href="#run-the-server">
  </a>
  Run the Server
</h3>

<p>Open a new terminal window and run the server with the command <code>node ./src/server</code>.  You should see debug information from Sequelize and the app listening on port 8081.</p>

<h2>
  <a name="complete-the-posts-manager-component" href="#complete-the-posts-manager-component">
  </a>
  Complete the Posts Manager Component
</h2>

<p>Now that the REST API server is complete, you can start wiring up your posts manager to fetch posts, create posts, edit posts, and delete posts. </p>

<p>I always centralize my API integrations into a single helper module. This keeps the code in components much cleaner and provides single location in case you need to change anything with the API request.</p>

<p>Create a file <code>./src/api.js</code> and copy/paste the following code into it:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="k">import</span> <span class="nx">Vue</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">vue</span><span class="dl">'</span>
<span class="k">import</span> <span class="nx">axios</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">axios</span><span class="dl">'</span>

<span class="kd">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">axios</span><span class="p">.</span><span class="nx">create</span><span class="p">({</span>
  <span class="na">baseURL</span><span class="p">:</span> <span class="dl">'</span><span class="s1">http://localhost:8081/</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">json</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">})</span>

<span class="k">export</span> <span class="k">default</span> <span class="p">{</span>
  <span class="k">async</span> <span class="nx">execute</span> <span class="p">(</span><span class="nx">method</span><span class="p">,</span> <span class="nx">resource</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// inject the accessToken for each request</span>
    <span class="kd">let</span> <span class="nx">accessToken</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">Vue</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">$auth</span><span class="p">.</span><span class="nx">getAccessToken</span><span class="p">()</span>
    <span class="k">return</span> <span class="nx">client</span><span class="p">({</span>
      <span class="nx">method</span><span class="p">,</span>
      <span class="na">url</span><span class="p">:</span> <span class="nx">resource</span><span class="p">,</span>
      <span class="nx">data</span><span class="p">,</span>
      <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">Authorization</span><span class="p">:</span> <span class="s2">`Bearer </span><span class="p">${</span><span class="nx">accessToken</span><span class="p">}</span><span class="s2">`</span>
      <span class="p">}</span>
    <span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="nx">req</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="k">return</span> <span class="nx">req</span><span class="p">.</span><span class="nx">data</span>
    <span class="p">})</span>
  <span class="p">},</span>
  <span class="nx">getPosts</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="dl">'</span><span class="s1">get</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">/posts</span><span class="dl">'</span><span class="p">)</span>
  <span class="p">},</span>
  <span class="nx">getPost</span> <span class="p">(</span><span class="nx">id</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="dl">'</span><span class="s1">get</span><span class="dl">'</span><span class="p">,</span> <span class="s2">`/posts/</span><span class="p">${</span><span class="nx">id</span><span class="p">}</span><span class="s2">`</span><span class="p">)</span>
  <span class="p">},</span>
  <span class="nx">createPost</span> <span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="dl">'</span><span class="s1">post</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">/posts</span><span class="dl">'</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span>
  <span class="p">},</span>
  <span class="nx">updatePost</span> <span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="dl">'</span><span class="s1">put</span><span class="dl">'</span><span class="p">,</span> <span class="s2">`/posts/</span><span class="p">${</span><span class="nx">id</span><span class="p">}</span><span class="s2">`</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span>
  <span class="p">},</span>
  <span class="nx">deletePost</span> <span class="p">(</span><span class="nx">id</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="dl">'</span><span class="s1">delete</span><span class="dl">'</span><span class="p">,</span> <span class="s2">`/posts/</span><span class="p">${</span><span class="nx">id</span><span class="p">}</span><span class="s2">`</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>When you authenticate with OIDC, an access token is persisted locally in the browser.  Since each API request must have an access token, you can fetch it from the authentication client and set it in the request.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="kd">let</span> <span class="nx">accessToken</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">Vue</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">$auth</span><span class="p">.</span><span class="nx">getAccessToken</span><span class="p">()</span>
<span class="k">return</span> <span class="nx">client</span><span class="p">({</span>
  <span class="nx">method</span><span class="p">,</span>
  <span class="na">url</span><span class="p">:</span> <span class="nx">resource</span><span class="p">,</span>
  <span class="nx">data</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">Authorization</span><span class="p">:</span> <span class="s2">`Bearer </span><span class="p">${</span><span class="nx">accessToken</span><span class="p">}</span><span class="s2">`</span>
  <span class="p">}</span>
<span class="p">})</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>By creating the following proxy methods inside your API helper, the code outside the helper module remains clean and semantic.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="nx">getPosts</span> <span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="dl">'</span><span class="s1">get</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">/posts</span><span class="dl">'</span><span class="p">)</span>
<span class="p">},</span>
<span class="nx">getPost</span> <span class="p">(</span><span class="nx">id</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="dl">'</span><span class="s1">get</span><span class="dl">'</span><span class="p">,</span> <span class="s2">`/posts/</span><span class="p">${</span><span class="nx">id</span><span class="p">}</span><span class="s2">`</span><span class="p">)</span>
<span class="p">},</span>
<span class="nx">createPost</span> <span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="dl">'</span><span class="s1">post</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">/posts</span><span class="dl">'</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span>
<span class="p">},</span>
<span class="nx">updatePost</span> <span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="dl">'</span><span class="s1">put</span><span class="dl">'</span><span class="p">,</span> <span class="s2">`/posts/</span><span class="p">${</span><span class="nx">id</span><span class="p">}</span><span class="s2">`</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span>
<span class="p">},</span>
<span class="nx">deletePost</span> <span class="p">(</span><span class="nx">id</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="dl">'</span><span class="s1">delete</span><span class="dl">'</span><span class="p">,</span> <span class="s2">`/posts/</span><span class="p">${</span><span class="nx">id</span><span class="p">}</span><span class="s2">`</span><span class="p">)</span>
<span class="p">}</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>You now have all the components required to wire up your posts manager component to make CRUD operations via the REST API. Open <code>./src/components/PostsManager.vue</code> and copy/paste the following code.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight html"><code><span class="nt">&lt;template&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"container-fluid mt-4"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;h1</span> <span class="na">class=</span><span class="s">"h1"</span><span class="nt">&gt;</span>Posts Manager<span class="nt">&lt;/h1&gt;</span>
    <span class="nt">&lt;b-alert</span> <span class="na">:show=</span><span class="s">"loading"</span> <span class="na">variant=</span><span class="s">"info"</span><span class="nt">&gt;</span>Loading...<span class="nt">&lt;/b-alert&gt;</span>
    <span class="nt">&lt;b-row&gt;</span>
      <span class="nt">&lt;b-col&gt;</span>
        <span class="nt">&lt;table</span> <span class="na">class=</span><span class="s">"table table-striped"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;thead&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
              <span class="nt">&lt;th&gt;</span>ID<span class="nt">&lt;/th&gt;</span>
              <span class="nt">&lt;th&gt;</span>Title<span class="nt">&lt;/th&gt;</span>
              <span class="nt">&lt;th&gt;</span>Updated At<span class="nt">&lt;/th&gt;</span>
              <span class="nt">&lt;th&gt;</span><span class="ni">&amp;nbsp;</span><span class="nt">&lt;/th&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
          <span class="nt">&lt;/thead&gt;</span>
          <span class="nt">&lt;tbody&gt;</span>
            <span class="nt">&lt;tr</span> <span class="na">v-for=</span><span class="s">"post in posts"</span> <span class="na">:key=</span><span class="s">"post.id"</span><span class="nt">&gt;</span>
              <span class="nt">&lt;td&gt;</span>{{ post.id }}<span class="nt">&lt;/td&gt;</span>
              <span class="nt">&lt;td&gt;</span>{{ post.title }}<span class="nt">&lt;/td&gt;</span>
              <span class="nt">&lt;td&gt;</span>{{ post.updatedAt }}<span class="nt">&lt;/td&gt;</span>
              <span class="nt">&lt;td</span> <span class="na">class=</span><span class="s">"text-right"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"#"</span> <span class="err">@</span><span class="na">click.prevent=</span><span class="s">"populatePostToEdit(post)"</span><span class="nt">&gt;</span>Edit<span class="nt">&lt;/a&gt;</span> -
                <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"#"</span> <span class="err">@</span><span class="na">click.prevent=</span><span class="s">"deletePost(post.id)"</span><span class="nt">&gt;</span>Delete<span class="nt">&lt;/a&gt;</span>
              <span class="nt">&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
          <span class="nt">&lt;/tbody&gt;</span>
        <span class="nt">&lt;/table&gt;</span>
      <span class="nt">&lt;/b-col&gt;</span>
      <span class="nt">&lt;b-col</span> <span class="na">lg=</span><span class="s">"3"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;b-card</span> <span class="na">:title=</span><span class="s">"(model.id ? 'Edit Post ID#' + model.id : 'New Post')"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;form</span> <span class="err">@</span><span class="na">submit.prevent=</span><span class="s">"savePost"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;b-form-group</span> <span class="na">label=</span><span class="s">"Title"</span><span class="nt">&gt;</span>
              <span class="nt">&lt;b-form-input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">v-model=</span><span class="s">"model.title"</span><span class="nt">&gt;&lt;/b-form-input&gt;</span>
            <span class="nt">&lt;/b-form-group&gt;</span>
            <span class="nt">&lt;b-form-group</span> <span class="na">label=</span><span class="s">"Body"</span><span class="nt">&gt;</span>
              <span class="nt">&lt;b-form-textarea</span> <span class="na">rows=</span><span class="s">"4"</span> <span class="na">v-model=</span><span class="s">"model.body"</span><span class="nt">&gt;&lt;/b-form-textarea&gt;</span>
            <span class="nt">&lt;/b-form-group&gt;</span>
            <span class="nt">&lt;div&gt;</span>
              <span class="nt">&lt;b-btn</span> <span class="na">type=</span><span class="s">"submit"</span> <span class="na">variant=</span><span class="s">"success"</span><span class="nt">&gt;</span>Save Post<span class="nt">&lt;/b-btn&gt;</span>
            <span class="nt">&lt;/div&gt;</span>
          <span class="nt">&lt;/form&gt;</span>
        <span class="nt">&lt;/b-card&gt;</span>
      <span class="nt">&lt;/b-col&gt;</span>
    <span class="nt">&lt;/b-row&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/template&gt;</span>

<span class="nt">&lt;script&gt;</span>
<span class="k">import</span> <span class="nx">api</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@/api</span><span class="dl">'</span>
<span class="k">export</span> <span class="k">default</span> <span class="p">{</span>
  <span class="nx">data</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span>
      <span class="na">loading</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
      <span class="na">posts</span><span class="p">:</span> <span class="p">[],</span>
      <span class="na">model</span><span class="p">:</span> <span class="p">{}</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="k">async</span> <span class="nx">created</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">refreshPosts</span><span class="p">()</span>
  <span class="p">},</span>
  <span class="na">methods</span><span class="p">:</span> <span class="p">{</span>
    <span class="k">async</span> <span class="nx">refreshPosts</span> <span class="p">()</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">loading</span> <span class="o">=</span> <span class="kc">true</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">posts</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">getPosts</span><span class="p">()</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">loading</span> <span class="o">=</span> <span class="kc">false</span>
    <span class="p">},</span>
    <span class="k">async</span> <span class="nx">populatePostToEdit</span> <span class="p">(</span><span class="nx">post</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">model</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">assign</span><span class="p">({},</span> <span class="nx">post</span><span class="p">)</span>
    <span class="p">},</span>
    <span class="k">async</span> <span class="nx">savePost</span> <span class="p">()</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">model</span><span class="p">.</span><span class="nx">id</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">updatePost</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">model</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">model</span><span class="p">)</span>
      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="k">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">createPost</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">model</span><span class="p">)</span>
      <span class="p">}</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">model</span> <span class="o">=</span> <span class="p">{}</span> <span class="c1">// reset form</span>
      <span class="k">await</span> <span class="k">this</span><span class="p">.</span><span class="nx">refreshPosts</span><span class="p">()</span>
    <span class="p">},</span>
    <span class="k">async</span> <span class="nx">deletePost</span> <span class="p">(</span><span class="nx">id</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">confirm</span><span class="p">(</span><span class="dl">'</span><span class="s1">Are you sure you want to delete this post?</span><span class="dl">'</span><span class="p">))</span> <span class="p">{</span>
        <span class="c1">// if we are editing a post we deleted, remove it from the form</span>
        <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">model</span><span class="p">.</span><span class="nx">id</span> <span class="o">===</span> <span class="nx">id</span><span class="p">)</span> <span class="p">{</span>
          <span class="k">this</span><span class="p">.</span><span class="nx">model</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="p">}</span>
        <span class="k">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">deletePost</span><span class="p">(</span><span class="nx">id</span><span class="p">)</span>
        <span class="k">await</span> <span class="k">this</span><span class="p">.</span><span class="nx">refreshPosts</span><span class="p">()</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<h3>
  <a name="listing-posts" href="#listing-posts">
  </a>
  Listing Posts
</h3>

<p>You'll use<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>
 to fetch posts from your REST API server. You should refresh the list of posts when the component is loaded and after any mutating operation (create, update, or delete).



```javascript
async refreshPosts () {
  this.loading = true
  this.posts = await api.getPosts()
  this.loading = false
}
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>The attribute <code>this.loading</code> is toggled so the UI can reflect the pending API call. You might not see the loading message since the API request is not going out to the internet.</p>

<h3>
  <a name="creating-posts" href="#creating-posts">
  </a>
  Creating Posts
</h3>

<p>A form is included in the component to save a post. It's wired up to call <code>savePosts()</code> when the form is submitted and its inputs are bound to the <code>model</code> object on the component.</p>

<p>When <code>savePost()</code> is called, it will perform either an update or create based on the existence of <code>model.id</code>. This is mostly a shortcut to not have to define two separate forms for creating and updating.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="k">async</span> <span class="nx">savePost</span> <span class="p">()</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">model</span><span class="p">.</span><span class="nx">id</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">updatePost</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">model</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">model</span><span class="p">)</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">createPost</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">model</span><span class="p">)</span>
  <span class="p">}</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">model</span> <span class="o">=</span> <span class="p">{}</span> <span class="c1">// reset form</span>
  <span class="k">await</span> <span class="k">this</span><span class="p">.</span><span class="nx">refreshPosts</span><span class="p">()</span>
<span class="p">}</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<h3>
  <a name="updating-posts" href="#updating-posts">
  </a>
  Updating Posts
</h3>

<p>When updating a post, you first must load the post into the form. This sets <code>model.id</code> which will the trigger an update in <code>savePost()</code>.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="k">async</span> <span class="nx">populatePostToEdit</span> <span class="p">(</span><span class="nx">post</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">model</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">assign</span><span class="p">({},</span> <span class="nx">post</span><span class="p">)</span>
<span class="p">}</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p><strong>Important:</strong> The <code>Object.assign()</code> call copies the value of the post argument rather than the reference. When dealing with mutation of objects in Vue, you should always set to the value, not reference.</p>

<h3>
  <a name="deleting-posts" href="#deleting-posts">
  </a>
  Deleting Posts
</h3>

<p>To delete a post simply call <code>api.deletePost(id)</code>. It's always good to confirm before delete so let's throw in a native confirmation alert box to make sure the click was intentional.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="k">async</span> <span class="nx">deletePost</span> <span class="p">(</span><span class="nx">id</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">confirm</span><span class="p">(</span><span class="dl">'</span><span class="s1">Are you sure you want to delete this post?</span><span class="dl">'</span><span class="p">))</span> <span class="p">{</span>
    <span class="k">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">deletePost</span><span class="p">(</span><span class="nx">id</span><span class="p">)</span>
    <span class="k">await</span> <span class="k">this</span><span class="p">.</span><span class="nx">refreshPosts</span><span class="p">()</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<h2>
  <a name="test-your-vuejs-node-crud-app" href="#test-your-vuejs-node-crud-app">
  </a>
  Test Your Vue.js + Node CRUD App
</h2>

<p>Make sure both the server and frontend are running.</p>

<p>Terminal #1<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>node ./src/server
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>Terminal #2<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>npm run dev
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>Navigate to <code>http://localhost:8080</code> and give it a whirl.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--aDDIt5XP--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://developer.okta.com/assets/blog/vue-crud-node/new-post-464637114d9c541ea48aa4dcc9fb698d6d5bf99cd2a3e5b39d81ffca6f7c406d.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--aDDIt5XP--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://developer.okta.com/assets/blog/vue-crud-node/new-post-464637114d9c541ea48aa4dcc9fb698d6d5bf99cd2a3e5b39d81ffca6f7c406d.png" alt="New Post" loading="lazy"></a></p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--FQzFXK8i--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://developer.okta.com/assets/blog/vue-crud-node/new-post-hello-world-357d85f922ecea2f414b35dbb90c310279e388d20da655c196fda04328c4a223.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--FQzFXK8i--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://developer.okta.com/assets/blog/vue-crud-node/new-post-hello-world-357d85f922ecea2f414b35dbb90c310279e388d20da655c196fda04328c4a223.png" alt="New Hello World Post" loading="lazy"></a></p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--htIgQjqV--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://developer.okta.com/assets/blog/vue-crud-node/delete-post-3e5ec6eb05128b65782c45bfcf7dd1129579a57175141d9fb1cfcc776cd2efad.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--htIgQjqV--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://developer.okta.com/assets/blog/vue-crud-node/delete-post-3e5ec6eb05128b65782c45bfcf7dd1129579a57175141d9fb1cfcc776cd2efad.png" alt="Delete Post" loading="lazy"></a></p>

<h2>
  <a name="do-more-with-vue" href="#do-more-with-vue">
  </a>
  Do More With Vue!
</h2>

<p>As I said at the top of this post, I think Vue stands head and shoulders above other frameworks. Here are five quick reasons why:</p>

<ul>
<li><a href="https://vuejs.org/v2/guide/instance#Lifecycle-Diagram">Simple component lifecycle</a></li>
<li>
<a href="https://vuejs.org/v2/guide/syntax">HTML-based templating</a> and native <a href="https://vuejs.org/v2/guide/forms">two-way binding</a>
</li>
<li>Widely agreed upon ways to handle <a href="https://github.com/vuejs/vue-router">routing</a>, <a href="https://github.com/vuejs/vuex">state management</a>, <a href="https://github.com/vuejs/vue-loader">webpack configuration</a>, and <a href="https://nuxtjs.org/">isomorphic web apps</a>
</li>
<li>Massive community supported <a href="https://github.com/vuejs/awesome-vue">resources, components, libraries, and projects</a>
</li>
<li>Vue feels very similar to <a href="https://github.com/facebook/react">React</a> (without the JSX!) which lowers the barrier to entry for those with React experience. Moving between React and Vue isn't very difficult.</li>
</ul>

<p>I covered a lot of material in this tutorial but don't feel bad if you didn't grasp everything the first time. The more you work with these technologies, the more familiar they will become.</p>

<p>To learn more about Vue.js head over to <a href="https://vuejs.org/">https://vuejs.org</a> or check out these other great resources from the <a href="https://twitter.com/OktaDev">@oktadev team</a>:</p>

<ul>
<li><a href="https://dev.to/blog/2017/07/20/the-ultimate-guide-to-progressive-web-applications">The Ultimate Guide to Progressive Web Applications</a></li>
<li><a href="https://dev.to/blog/2017/09/14/lazy-developers-guide-to-auth-with-vue">The Lazy Developer's Guide to Authentication with Vue.js</a></li>
<li><a href="https://dev.to/blog/2017/09/06/build-a-cryptocurrency-comparison-site-with-vuejs">Build a Cryptocurrency Comparison Site with Vue.js</a></li>
</ul>

<p>You can find the source code for the application developed in this post at <a href="https://github.com/oktadeveloper/okta-vue-node-example">https://github.com/oktadeveloper/okta-vue-node-example</a>. </p>

<p>Hit me up in the comments with any questions, and as always, follow <a href="https://twitter.com/OktaDev">@oktadev</a> on Twitter to see all the cool content our dev team is creating.</p>

<ul>
<li>Apr 16, 2018: Updated to use the latest dependencies, including Okta's Vue SDK 1.0.0. See the code changes in <a href="https://github.com/oktadeveloper/okta-vue-node-example/pull/2">oktadeveloper/okta-vue-node-example-example#2</a>. Changes to this article can be viewed in <a href="https://github.com/okta/okta.github.io/pull/1959">okta/okta.github.io#1959</a>.</li>
<li>Mar 12, 2018: Updated to use the latest dependencies, including Bootstrap 4.0.0. See the code changes in <a href="https://github.com/oktadeveloper/okta-vue-node-example/pull/1">oktadeveloper/okta-vue-node-example-example#1</a>. Changes to this article can be viewed in <a href="https://github.com/okta/okta.github.io/pull/1837">okta/okta.github.io#1837</a>.</li>
</ul>


          </div>

        </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </section>
    <!--   Blog Single End   -->

    <!--   Return To Top  -->
    <a class="return-to-top text-white bg-base-color d-inline-block" href="javascript:void(0)"><i class="lni-arrow-up"></i></a>


    <!--  JavaScripts  -->
    <script src="../assets/js/jquery-3.4.1.min.js"></script>
    <!--  Bootstrap Js  -->
    <script src="../assets/js/bootstrap.js"></script>
    <!--  Easing Js  -->
    <script src="../assets/js/jquery.easing.min.js"></script>
    <!--  Typed Js  -->
    <script src="../assets/js/typed.js"></script>
    <!--  Magnific Popup Js  -->
    <script src="../assets/js/jquery.magnific-popup.min.js"></script>
    <!--  Isotope Js  -->
    <script src="../assets/js/isotope.pkgd.min.js"></script>
    <!--  Owl Carousel Js  -->
    <script src="../assets/js/owl.carousel.min.js"></script>
    <!--  Particle Js  -->
    <script src="../assets/js/particles-01.min.js"></script>
    <!--  particles app Js  -->
    <script src="../assets/js/particles-01.app.js"></script>
    <!-- Map Js -->
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDRemITiP7JRWpZwLhVt-T2x5MeUFE2KWs"></script>
    <!--  Custom JS  -->
    <script src="../assets/js/arshia.js"></script>

  </body>
</html>
